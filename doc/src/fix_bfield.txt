"LAMMPS WWW Site"_lws - "LAMMPS Documentation"_ld - "LAMMPS Commands"_lc :c

:link(lws,http://lammps.sandia.gov)
:link(ld,Manual.html)
:link(lc,Section_commands.html#comm)

:line

fix bfield command :h3

[Syntax:]

fix ID group-ID bfield Bx By Bz :pre

ID, group-ID are documented in "fix"_fix.html command :ulb,l
bfield = style name of this fix command :l
Bx,By,Bz = B-field component values (magnetic field units) :l

zero or more keyword/value pairs may be appended to args :ulb,l
keyword = {region} :l
  {region} value = region-ID of region atoms must be in to experience magnetic field :l
:ule

[Examples:]

fix all external-field bfield 1.0 0.0 0.0 
fix all external-field bfield 0.0 v_b 0.0 region sub :pre

[Description:]

Add the effect of a Lorentz force {F = qv x B} to the positions and velocities of charged atoms. If the system contains magnetic point-dipoles, a torque is added to the dipoles due to the external magnetic field as {T = mu x B}. The energy added by the torque is saved as a global scalar. 

Any of the 3 quantities defining the B-field components
can be specified as an equal-style "variable"_variable.html, namely {Bx}, {By}, {Bz}.  If the value is a
variable, it should be specified as v_name, where name is the variable
name.  In this case, the variable will be evaluated each timestep, and
its value used to determine the B-field component.

If the {region} keyword is used, the atom must be in the specified geometric region in order to experience the magnetic field.

The implementation follows the weak-field limit given by "(Spreiter and Walter)"_#Spreiter. A warning is issued if the applied field is extremely strong. 

:line 

NOTE: Adding a torque to atoms implies a change in their potential
energy as they rotate due to the applied B-field. The minimizers in LAMMPS do not rotate dipoles, so you should not expect the orientation of dipoles to be minimized in the applied magnetic field.

:line 

[Restart, fix_modify, output, run start/stop, minimize info:]

No information about this fix is written to "binary restart
files"_restart.html.  

This fix computes a global scalar which can be accessed by various "output
commands"_Section_howto.html#howto_15. The scalar is the potential
energy discussed above. The scalar calculated by this fix
is "extensive".

No parameter of this fix can be used with the {start/stop} keywords of
the "run"_run.html command.

[Restrictions:]

The system must contain charges or magnetic dipoles.

:link(Spreiter)
[(Spreiter)] Spreiter and Walter. J Comp Phys, 152, 102-119 (1999)

[Related commands:]

"fix efield"_fix_efield.html, "fix addforce"_fix_addforce.html

[Default:] none
